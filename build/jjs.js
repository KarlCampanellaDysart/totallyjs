define("jsingleton",[],function(){var e={singleton:{views:{},routes:{},models:{},controllers:{}}};return e}),define("jcontroller/subcontrollers/listener/listenerQueues",[],function(){var e={classListenerQueue:{},idListenerQueue:{}};return e}),define("jcontroller/subcontrollers/listener/listenerObject",["jcontroller/subcontrollers/listener/listenerQueues"],function(e){var t={clearListeners:function(){for(var t in e.classListenerQueue){var n=document.getElementsByClassName(t);for(var r=0;r<n.length;r++)for(var i in e.classListenerQueue[t]){if(n===undefined)throw"class name doesn't exist";n[r].removeEventListener(i,event)}}for(var s in e.idListenerQueue){var o=document.getElementById(s);for(var i in e.idListenerQueue[s]){if(o===undefined)throw"id doesn't exist";o.removeEventListener(i,event)}}e.classListenerQueue={},e.idListenerQueue={}},addAllListeners:function(){for(var t in e.classListenerQueue){var n=document.getElementsByClassName(t);for(var r=0;r<n.length;r++)for(var i in e.classListenerQueue[t]){if(n===undefined)throw"class name doesn't exist";n[r].addEventListener(i,function(n){var r=n.target;while(r!==undefined){if(e.classListenerQueue[r.className]&&e.classListenerQueue[r.className][n.type].handler){e.classListenerQueue[r.className][n.type].handler(r);break}r=r.parentElement}})}}for(var s in e.idListenerQueue){var o=document.getElementById(s);for(var i in e.idListenerQueue[s]){if(o===undefined)throw"id doesn't exist";o.addEventListener(i,function(n){var r=n.target;while(r!==undefined){if(r&&r.id&&e.idListenerQueue[r.id]&&e.idListenerQueue[r.id][n.type].handler){e.idListenerQueue[r.id][n.type].handler(r);break}r=r.parentElement}})}}}};return t}),define("jcontroller/subcontrollers/listenerController",["jsingleton","jcontroller/subcontrollers/listener/listenerObject","jcontroller/subcontrollers/listener/listenerQueues"],function(e,t,n){var r=function(e,t,r){if(e===undefined)throw"listener needs type";if(e!=="click"&&e!=="mouseout"&&e!=="mousemove"&&e!=="mouseover")throw"not a valid listener type";if(t===undefined)throw"listener needs handler";return{type:e,handler:t,propagating:r,bindToElement:function(e){var t=this;if(e===undefined)throw"bindToElement needs a class or id name";if(e.charAt(0)===".")n.classListenerQueue[e.substr(1,e.length)]!==undefined?n.classListenerQueue[e.substr(1,e.length)][t.type]={handler:t.handler,propagating:t.propagating}:(n.classListenerQueue[e.substr(1,e.length)]={},n.classListenerQueue[e.substr(1,e.length)][t.type]={handler:t.handler,propagating:t.propagating});else{if(e.charAt(0)!=="#")throw"element must be identified by a element or class";n.idListenerQueue[e.substr(1,e.length)]!==undefined?n.idListenerQueue[e.substr(1,e.length)][t.type]={handler:t.handler,propagating:t.propagating}:(n.idListenerQueue[e.substr(1,e.length)]={},n.idListenerQueue[e.substr(1,e.length)][t.type]={handler:t.handler,propagating:t.propagating})}}}};return r}),define("jmodel/ajax/ajax",["jsingleton"],function(e){var t="expected_data",n={call:function(e,t,n,r){var i;window.XMLHttpRequest!==undefined?i=new XMLHttpRequest:i=new ActiveXObject("Microsoft.XMLHTTP"),i.onreadystatechange=function(){if(i.readyState===4&&i.status===200){var e;try{e=JSON.parse(i.responseText)}catch(t){e=i.responseText}r(e)}};var s="?";for(var o in n)s+=o+"="+JSON.stringify(n[o])+"&";i.open(e,t+s,!0),i.send()},smart:function(n,r,i,s){var o={add:"PUT",get:"GET",getAll:"GET",update:"PUT","delete":"DELETE"};for(var u in e.singleton.models[r].backend.config.routes[n][t])if(i[e.singleton.models[r].backend.config.routes[n][t][u]]===undefined)throw"expected data "+e.singleton.models[r].backend.config.routes[n][t][u]+" not found";var a=this.insertDataInRoutes(i,r,n);this.call(o[n],a.route,a.params,s)},insertDataInRoutes:function(t,n,r){var i=e.singleton.models[n].backend.config,s=i.routes[r].route,o=s.split("|"),u="";for(var a in o)if(o[a].indexOf("/")===-1&&o[a]!==""){if(t[o[a]]===undefined)throw"undefined data in route";u+=t[o[a]]}else u+=o[a];var f={};for(var l in i.routes[r].params)f[i.routes[r].params[l].name]=t[i.routes[r].params[l].name];return{route:u,params:f}}};return n}),define("jcontroller/render",["jcontroller/subcontrollers/listener/listenerObject"],function(e){var t={currentView:{},renderAll:function(t){e.clearListeners(),t===undefined?t=this.currentView:this.currentView=t;var n="",r="";n+=t.render(t.variables),t.TYPE==="view"&&(r=t.id);var i=document.documentElement,s=document.getElementsByTagName("title")[0],o=document.getElementsByTagName("body")[0],u=document.getElementsByTagName("head")[0];o!==undefined?o.innerHTML=n:document.write(n);if(s)s.innerHTML=r;else{var a=document.createElement("title");a.appendChild(document.createTextNode(r)),u.appendChild(a)}e.addAllListeners()}};return t}),define("jmodel/modelValidation",["jsingleton"],function(e){var t=!0,n="string",r=1.111,i=1,s={INTEGER:function(e){return Number(e)===e&&e%1===0},FLOAT:function(e){return e===Number(e)&&e%1!==0},STRING:function(e){return typeof e==typeof n},BOOLEAN:function(e){return typeof e==typeof t}},o={modelName:function(t){if(e.singleton.models[t]===undefined)throw"model name "+t+" is not valid"},searchData:function(t,n){for(var r in t){if(e.singleton.models[n].layout[r]===undefined)throw"data not present in model "+n;if(s[e.singleton.models[n].layout[r]](t[r])===undefined)throw"invalid value for "+r}},updateData:function(e,t){for(var n in e){var r=t.layout[n];if(n===t.primary_key)throw"cannot alter primary_key";if(r===undefined)throw"invalid model data";if(s[r](e[n])===undefined)throw"invalid data for "+n;if(t.validation!==undefined&&t.validation[n]!==undefined&&t.validation[n](e[n])===undefined)throw"invalid data for "+n}},data:function(e,t){for(var n in e){var r=t.layout[n];if(n!==t.primary_key){if(r===undefined)throw"invalid model data";if(s[r](e[n])===undefined)throw"invalid data for "+n;if(t.validation!==undefined&&t.validation[n]!==undefined&&t.validation[n](e[n])===undefined)throw"invalid data for "+n}}}};return o});var GET="get",GET_ALL="getAll",ADD="add",DELETE="delete",UPDATE="update";define("jmodel/jmodel",["jsingleton","jmodel/ajax/ajax","jcontroller/render","jmodel/modelValidation"],function(e,t,n,r){var i=!0,s="string",o=1.111,u=1,a="expected_data",f="|index|",l={INTEGER:function(e){return Number(e)===e&&e%1===0},FLOAT:function(e){return e===Number(e)&&e%1!==0},STRING:function(e){return typeof e==typeof s},BOOLEAN:function(e){return typeof e==typeof i}},c={get:{route:f,params:!1},getAll:{route:"",params:!1},add:{route:"",params:!0},"delete":{route:f,params:!1},update:{route:f,params:!0}},h={get:function(e,n,r){var i={index:e};t.smart(GET,n,i,r)},getAll:function(e,n){t.smart(GET_ALL,e,{},n)},add:function(e,n,r){var i={};i[n]=e,t.smart(ADD,n,i,r)},"delete":function(e,n,r){var i={index:e};t.smart(DELETE,n,i,r)},update:function(e,n,r,i){var s={index:e};s[r]=n,t.smart(UPDATE,r,s,i)}},p={addModel:function(t,i){i.primary_key=i.primary_key||"_id",i.layout[i.primary_key]="STRING";for(var s in i.layout)if(l[i.layout[s]]===undefined)throw t.name+" model not valid";e.singleton.models[t.name]=i,e.singleton.models[t.name].data=[];if(e.singleton.models[t.name].backend!==!1){for(var o in c)if(e.singleton.models[t.name].backend.config.routes[o]===undefined){var u={};u[a]=[],c[o].params!==undefined?(u.params=[{name:t.name,type:"OBJECT"}],u[a].push(t.name)):u.params=[],e.singleton.models[t.name].backend.config.base_route.charAt(e.singleton.models[t.name].backend.config.base_route.length)==="/"?u.route=e.singleton.models[t.name].backend.config.base_route+c[o].route:u.route=e.singleton.models[t.name].backend.config.base_route+"/"+c[o].route,u[a].push(c[o].route.substr(1,c[o].route.length-2)),e.singleton.models[t.name].backend.config.routes[o]=u}else{e.singleton.models[t.name].backend.config.routes[o][a]=[];for(var f in e.singleton.models[t.name].backend.config.routes[o].params)e.singleton.models[t.name].backend.config.routes[o][a].push(e.singleton.models[t.name].backend.config.routes[o].params[f].name);var p=e.singleton.models[t.name].backend.config.routes[o].route.split("|");for(var d in p)p[d].indexOf("/")===-1&&p[d]!==""&&e.singleton.models[t.name].backend.config.routes[o][a].push(p[d])}for(var o in h)e.singleton.models[t.name].backend.config.handlers[o]===undefined&&(e.singleton.models[t.name].backend.config.handlers[o]=h[o]);e.singleton.models[t.name].backend.config.handlers[GET_ALL](t.name,function(i){if(i===undefined||i.length===0||i.length===undefined||i.length===null){if(e.singleton.models[t.name].initialize)for(var s in e.singleton.models[t.name].initialize)r.data(e.singleton.models[t.name].initialize[s],e.singleton.models[t.name]),e.singleton.models[t.name].backend.config.handlers[ADD](e.singleton.models[t.name].initialize[s],t.name,function(n){e.singleton.models[t.name].initialize[s][e.singleton.models[t.name].primary_key]=n[e.singleton.models[t.name].primary_key],e.singleton.models[t.name].data.push(e.singleton.models[t.name].initialize[s])})}else for(var s in i)e.singleton.models[t.name].data.push(i[s]);n.renderAll()})}else for(var v in e.singleton.models[t.name].initialize)r.data(e.singleton.models[t.name].initialize[v],e.singleton.models[t.name]),e.singleton.models[t.name].data.push(e.singleton.models[t.name].initialize[v])}};return p}),define("jmodel/indicies",["jsingleton"],function(e){var t={forData:function(t,n,r){var i=[];for(var s in e.singleton.models[n].data){var o=!0;for(var u in t)t[u]!==e.singleton.models[n].data[s][u]&&(o=!1);if(o){i.push({real_key:e.singleton.models[n].data[s][e.singleton.models[n].primary_key],fake_key:s});if(!r)break}}return i}};return t}),define("jmodel/alterModel/delete",["jsingleton","jmodel/ajax/ajax","jmodel/modelValidation","jmodel/indicies"],function(e,t,n,r){var i={deleteFromModelAtIndex:function(t,n){for(var r in t){if(r<0)throw"index to delete is not valid";e.singleton.models[n].data[t[r].fake_key]=null,e.singleton.models[n].backend.config.handlers[DELETE](t[r].real_key,n,function(e){})}var i=[];for(var s in e.singleton.models[n].data)e.singleton.models[n].data[s]!==null&&i.push(e.singleton.models[n].data[s]);e.singleton.models[n].data=i},deleteFromModel:function(e,t,i){n.modelName(t);if(e.where===undefined)throw"model needs where option to perform query";var s=e.where;n.searchData(s,t);var o=r.forData(s,t,i);this.deleteFromModelAtIndex(o,t)}};return i}),define("jmodel/alterModel/add",["jsingleton","jmodel/ajax/ajax","jmodel/modelValidation","jmodel/indicies"],function(e,t,n,r){var i={addToModel:function(t,r){n.modelName(r),n.data(t,e.singleton.models[r]),e.singleton.models[r].backend.config.handlers[ADD](t,r,function(n){if(n[e.singleton.models[r].primary_key]===undefined)throw"unknown primary key from backend";t[e.singleton.models[r].primary_key]=n[e.singleton.models[r].primary_key],e.singleton.models[r].data.push(t)})}};return i}),define("jmodel/alterModel/get",["jsingleton","jmodel/ajax/ajax","jmodel/modelValidation","jmodel/indicies"],function(e,t,n,r){var i={getFromModelAtIndex:function(t,n){if(t==="all")return e.singleton.models[n].data;var r=[];for(var i in t){if(i<0)throw"index to get is not valid";r.push(e.singleton.models[n].data[t[i].fake_key])}return r},getFromModel:function(e,t){return n.modelName(t),e!==undefined&&e.where!==undefined?(n.searchData(e.where,t),this.getFromModelAtIndex(r.forData(e.where,t),t)):this.getFromModelAtIndex("all",t)}};return i}),define("jmodel/alterModel/update",["jsingleton","jmodel/ajax/ajax","jmodel/modelValidation","jmodel/indicies"],function(e,t,n,r){var i={updateModelAtIndex:function(t,n,r){for(var i in t){if(t[i].real_key<0)throw"index to delete is not valid";for(var s in n)e.singleton.models[r].data[t[i].fake_key][s]=n[s];e.singleton.models[r].backend.config.handlers[UPDATE](t[i].real_key,n,r,function(e){})}},updateModel:function(t,i,s){n.modelName(i),n.searchData(t.where,i),n.updateData(t.update,e.singleton.models[i]);var o=r.forData(t.where,i,s);this.updateModelAtIndex(o,t.update,i)}};return i}),define("jcontroller/subcontrollers/modelController",["jsingleton","jmodel/jmodel","jmodel/alterModel/delete","jmodel/alterModel/add","jmodel/alterModel/get","jmodel/alterModel/update"],function(e,t,n,r,i,s){var o=function(e){return{name:e,add:function(e){r.addToModel(e,this.name)},get:function(e){return i.getFromModel(e,this.name)},getAll:function(){return i.getFromModel({},this.name)},"delete":function(e){n.deleteFromModel(e,this.name,!1)},deleteAll:function(e){n.deleteFromModel(e,this.name,!0)},update:function(e){s.updateModel(e,this.name,!1)},updateAll:function(e){s.updateModel(e,this.name,!0)}}};return o}),define("jcontroller/subcontrollers/viewController",["jsingleton","jcontroller/render"],function(e,t){var n=function(n){return{viewName:n,render:function(){var n=e.singleton.views[this.viewName];if(n===undefined)throw"no view with name "+this.viewName+" exists";t.renderAll(n)},addData:function(t,n){if(e.singleton.views[this.viewName]===undefined)throw"view binded to data doesn't exist";e.singleton.views[this.viewName].setVariable({name:t,value:n})}}};return n}),define("jcontroller/jcontroller",["jsingleton","jcontroller/subcontrollers/modelController","jcontroller/subcontrollers/viewController","jcontroller/render"],function(e,t,n,r){var i={addController:function(t,n){e.singleton.controllers[t]=n},callController:function(r,i){if(r===undefined||i===undefined)throw"controller with function doesn't exist";var s=e.singleton.controllers[r];if(s===undefined)throw"controller doesn't exist";var o=s[i];if(o===undefined)throw"controller's function doesn't exist";e.singleton.controllers[r][i](n,t)}};return i}),define("jview/tags/tagContentParser",["jsingleton","jcontroller/subcontrollers/listenerController","jcontroller/jcontroller"],function(e,t,n){var r=/(id|class|href|action|method|type|value|rel|for|style|title|name|width|height|alt)/i,i=/(click|mouseover|mouseout|mouseup|mousemove)/,s=/(controller|helper)/i,o=/\{\{([^\}]+)\}\}/g,u={allContent:function(t,n){var r="";for(var i=0;i<t.length;i++)t[i]instanceof Object?t[i].TYPE!==undefined&&t[i].TYPE==="placeholder"?r+=e.singleton.views[t[i].name].render(n):r+=t[i].render(n):r+=this.getTextOrPlaceholder(t[i],n);return r},getTextOrPlaceholder:function(e,t){return e=e.replace(o,function(e){var n=e.substr(2,e.length-4);return t[n]!==undefined?t[n]:"*undefined varaible "+n+"*"}),e},getIdentifiers:function(e){var t="";for(var n in e)if(n.search(r)>-1)t+=this.getIdentifiersHelper(e[n],n);else{if(!(n.search(s)>-1&&n.search(i)>-1))throw"unidentified tag in view";t+=this.addTagListener(e[n],n,e.id)}return t},getIdentifiersHelper:function(e,t){return" "+t+"="+this.addQuotes(e)},addTagListener:function(e,r,i){var s;i===undefined?s="1234":s=i;var o=r.split("-"),u=e.split(".");return o[1]==="controller"&&t(o[0],function(e){n.callController(u[0],u[1])},!0).bindToElement("#"+s),i===undefined?' id="'+s+'"':""},addQuotes:function(e){return e.charAt(0)==='"'?e:'"'+e+'"'}};return u}),define("jview/tags/tagObjectRender",["jview/tags/tagContentParser"],function(e){var t=function(t,n,r,i){return t!==undefined&&Object.keys(t).length!=0&&n!==undefined&&n.length!=0?"<"+r+""+e.getIdentifiers(t)+">"+e.allContent(n,i)+"</"+r+">":t!==undefined&&Object.keys(t).length!=0?"<"+r+""+e.getIdentifiers(t)+"></"+r+">":n!==undefined&&n.length!=0?"<"+r+">"+e.allContent(n,i)+"</"+r+">":"<"+r+"></"+r+">"};return t}),define("jview/tags/tagObject",["jview/tags/tagObjectRender"],function(e){var t={tagObjectBuilder:function(t,n,r){return{TYPE:"tag",variables:{},content:n,identifier:t,type:r,addElementHandlers:function(){for(var e in this.content)this.content[e]instanceof Object&&this.content[e].addElementHandlers()},render:function(t){return e(this.identifier,this.content,this.type,t)}}}};return t});var CLASS="class",CLASS_SYM=".",ID="id",ID_SYM="#",SPACE=" ",BLANK="";define("viewObjectParser",[],function(){var e=/\./g,t=/(=)/i,n={parseIdentifiers:function(n){var r=n.split(SPACE),i={};for(var s=0;s<r.length;s++)if(r[s].charAt(0)===CLASS_SYM)i[CLASS]=r[s].replace(e,SPACE);else if(r[s].charAt(0)===ID_SYM)i[ID]=r[s].substr(1,r[s].length);else if(r[s]!==BLANK){var o=r[s].search(t),u=[r[s].substr(0,o),r[s].substr(o+1,r[s].length)];if(u.length!==2)throw"invalid identifier in view object";i[u[0]]=u[1].substr(0,u[1].length)}return i}};return n}),define("jview/tags/tags",["jview/tags/tagObject","viewObjectParser"],function(e,t){var n={a:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"a")},abbr:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"abbr")},address:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"address")},area:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"area")},b:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"b")},base:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"base")},bdo:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"bdo")},blockquote:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"blockquote")},body:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"body")},br:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"br")},button:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"button")},caption:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"caption")},cite:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"cite")},code:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"code")},col:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"col")},colgroup:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"colgroup")},dd:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"dd")},del:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"del")},dfn:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"dfn")},div:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"div")},dl:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"dl")},dt:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"dt")},em:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"em")},fieldset:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"fieldset")},form:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"form")},h1:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"h1")},h2:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"h2")},h3:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"h3")},h4:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"h4")},h5:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"h5")},h6:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"h6")},head:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"head")},hr:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"hr")},html:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"html")},i:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"i")},iframe:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"iframe")},img:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"img")},input:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"input")},ins:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"ins")},kbd:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"kbd")},label:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"label")},legend:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"legend")},li:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"li")},link:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"link")},map:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"map")},menu:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"form")},meta:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"meta")},nav:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"nav")},noscript:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"noscript")},object:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"object")},ol:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"ol")},optgroup:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"optgroup")},option:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"option")},p:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"p")},param:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"param")},pre:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"pre")},q:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"q")},s:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"s")},samp:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"samp")},script:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"script")},select:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"select")},small:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"small")},span:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"span")},strong:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"strong")},style:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"style")},sub:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"sub")},sup:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"sup")},table:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"table")},tbody:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"tbody")},td:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"td")},textarea:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"textarea")},tfoot:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"tfoot")},th:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"th")},thead:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"thead")},title:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"title")},tr:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"tr")},u:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"u")},ul:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"ul")},jvar:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"var")},article:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"aritcle")},aside:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"aside")},audio:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"adio")},bdi:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"bdi")},canvas:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"canvas")},datalist:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"datalist")},details:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"details")},dialog:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"dialog")},embed:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"embed")},figcaption:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"figcaption")},figure:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"figure")},footer:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"footer")},header:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"header")},keygen:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"keygen")},main:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"main")},mark:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"mark")},menuitem:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"form")},meter:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"meter")},output:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"output")},progress:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"progress")},rp:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"rp")},rt:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"rt")},ruby:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"ruby")},section:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"section")},source:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"source")},summary:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"summary")},time:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"time")},track:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"track")},video:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"video")},wbr:function(n,r){return e.tagObjectBuilder(t.parseIdentifiers(n),r,"wbr")}};return n}),define("jview/views/jviewObject",["jview/tags/tags"],function(e){var t=function(t){return{TYPE:"view",dom:t,id:"","class":"",style:"",variables:{},render:function(t){for(var n in this.variables)t[n]=this.variables[n];var r="#"+this.id+this.TYPE+" ."+this.class+' style="'+this.style+'"';return e.div(r,this.dom).render(t)},getId:function(){return this.title},setId:function(e){this.id=e},getClass:function(){return this.class},setClass:function(e,t){t?this.class===""?this.class=e:this.class+=e:this.class=e},getStyle:function(){return this.style},setStyle:function(e){this.style=e},getVariable:function(e){return this.variables[e]!==undefined?this.variables[e]:null},setVariable:function(e){this.variables[e.name]=e.value}}};return t});var XS_VIEW=0,SM_VIEW=1,MD_VIEW=2,LG_VIEW=3,XL_VIEW=4;define("jview/viewSize",[],function(e){var t;window.innerWidth>1&&window.innerWidth<=640?t=XS_VIEW:window.innerWidth>640&&window.innerWidth<=760?t=SM_VIEW:window.innerWidth>760&&window.innerWidth<=960?t=MD_VIEW:window.innerWidth>960&&window.innerWidth<=1200?t=LG_VIEW:t=XL_VIEW;var n={view_size:t};return n});var ROW_NUM=100;define("jview/jview",["jsingleton","jview/tags/tags","jview/views/jviewObject","jcontroller/render","jview/viewSize"],function(e,t,n,r,i){var s={jview:function(e){return{TYPE:"placeholder",name:e.name}},jform:function(t){if(t===undefined)throw"jform needs options to instantiate";if(t.modalName===undefined)throw"jform needs a modal to instantiate";if(e.singleton.models[t.modalName]===undefined)throw"model "+t.modalName+" does not exist in app";var n=[];return t.ommitted!==undefined&&t.ommitted.length>0&&(n=t.ommitted),{modelName:t.modelName,build:function(e){},render:function(e){}}},jtable:function(e){},jlist:function(e){},jgrid:function(e){if(e===undefined)throw"grid needs options to instantiate";var r="";if(e.name===undefined)throw"grid needs a title";r=e.name;var s=[];if(e.columns){if(e.columns.default===undefined)throw"columns option needs default value";e.columns.xs!==undefined?s.push(e.columns.xs):s.push(e.columns.default),e.columns.sm!==undefined?s.push(e.columns.sm):s.push(e.columns.default),e.columns.md!==undefined?s.push(e.columns.md):s.push(e.columns.default),e.columns.lg!==undefined?s.push(e.columns.lg):s.push(e.columns.default),e.columns.xl!==undefined?s.push(e.columns.xl):s.push(e.columns.default)}var o={};if(e.skeleton===undefined)throw"grid needs a skeleton to instantiate";o=e.skeleton;var u="";if(e.gridDataName===undefined)throw"grid a name for it's data";return u=e.gridDataName,{id:r,colSizeArray:s,TYPE:"grid",gridDataName:u,numGridElements:0,gridElements:[],variables:{},skeleton:o,pGridData:[],build:function(e){if(e[this.gridDataName]===undefined)throw"gridDataName "+this.gridDataName+" is not correct";if(this.gridElements!==undefined&&this.gridElements.length===e[this.gridDataName].length)for(var r=0;r<this.gridElements.length;r++){this.gridElements[r].setStyle(this.formatStyle());for(var i in e[this.gridDataName][r])this.gridElements[r].setVariable({name:i,value:e[this.gridDataName][r][i]})}else{this.gridElements=[];for(var r=0;r<e[this.gridDataName].length;r++){var s=n(this.skeleton);s.setId(this.id+"elem"+r),s.setStyle(this.formatStyle());for(var i in e[this.gridDataName][r])s.setVariable({name:i,value:e[this.gridDataName][r][i]});this.gridElements.push(s)}}return t.div(".pviewContainer.pcenter",this.gridElements)},formatStyle:function(){return"width:"+Math.floor(ROW_NUM/this.colSizeArray[i.view_size])+"%;display:inline-block;"},render:function(e){return this.build(e).render(e)},getpGridData:function(){return this.pGridData},setpGridData:function(e){this.pGridData=e,this.numGridElements=e.length}}}};return s}),define("jloader/jsync",[],function(){var e={loadingStatus:0,start:!1};return e}),define("jrouter/location/locationObject",["jsingleton"],function(e){var t="#",n={routeAfterHash:function(){var e=this.getUrl().split(t);return e[e.length-1]},changeRoute:function(e){this.setUrl(this.getUrlOrigin()+this.getUrlPathname()+t+e)},hasHash:function(){return this.getUrl().indexOf(t)===-1?!1:!0},addHash:function(){this.setUrl(this.getUrl()+t+"/")},getUrl:function(){return window.location.toString()},getUrlOrigin:function(){return window.location.origin.toString()},getUrlPathname:function(){return window.location.pathname},setUrl:function(e){window.location=e}};return n}),define("jrouter/location/locationHandler",["jcontroller/jcontroller","jloader/jsync","jsingleton","jcontroller/render","jrouter/location/locationObject"],function(e,t,n,r,i){var s={refreshRoute:function(){try{this.preRouteStringHandler()}catch(e){throw t.loadingStatus===0?e:"project files not loaded"}},preRouteStringHandler:function(){this.routeStringHandler(i.routeAfterHash())},routeStringHandler:function(t){if(t.length>0&&t.charAt(0)!=="/")throw"invalid route";if(n.singleton.routes.reroute!==undefined)for(var i in n.singleton.routes.reroute)if(t===n.singleton.routes.reroute[i].from){this.rerouteStringHandler(n.singleton.routes.reroute[i].to);return}if(n.singleton.routes[t]!==undefined&&n.singleton.routes[t].indexOf(".")>-1){var s=n.singleton.routes[t].split(".");if(s.length===2){e.callController(s[0],s[1]);return}}var o=n.singleton.views[n.singleton.routes[t]];if(o===undefined){var u=n.singleton.views[n.singleton.routes.otherwise];if(u===undefined)throw"route not found";r.renderAll(u)}r.renderAll(o)},rerouteStringHandler:function(e){i.changeRoute(e)}};return s}),define("jrouter/jrouter",["jsingleton","jrouter/location/locationHandler","jloader/jsync","jrouter/location/locationObject"],function(e,t,n,r){var i={initialize:function(){window.addEventListener("hashchange",function(e){t.refreshRoute()},!1),window.addEventListener("load",function(e){r.hasHash()?t.refreshRoute():r.addHash()},!1),r.hasHash()?t.refreshRoute():r.addHash()},setRoute:function(t){t!==undefined&&t.route!==undefined&&t.view!==undefined?(t.route.length>0&&t.route.charAt(0)!=="/"&&t.route!=="otherwise"&&(t.route="/"+t.route),e.singleton.routes[t.route]=t.view):t!==undefined&&t.reroute!==undefined&&t.to!==undefined?(e.singleton.routes.reroute=e.singleton.routes.reroute||[],e.singleton.routes.reroute.push({from:t.reroute,to:t.to})):t!==undefined&&t.route!==undefined&&t.controller!==undefined&&(t.route.length>0&&t.route.charAt(0)!=="/"&&(t.route="/"+t.route),e.singleton.routes[t.route]=t.controller)}};return i}),define("jloader/jloader",["jmodel/ajax/ajax","jloader/jsync","jrouter/jrouter"],function(e,t,n){var r=/\.[^\.a-z]{0,3}/i,i={processConfigSettings:function(e){e.files&&this.loadFilesInFolder(e.root,e.files)},loadFilesInFolder:function(e,n){for(var i in n)if(n[i]instanceof Object){var s;n[i].root.charAt(0)==="/"&&(s=n[i].root.substring(1,n[i].root.length)),n[i].root.charAt(n[i].root.length-1)==="/"?s=n[i].root.substring(0,n[i].root.length-1):s=n[i].root,this.loadFilesInFolder(e+"/"+s,n[i].files)}else{var o,u=n[i].search(r);u>-1?o=n[i]:o=n[i]+".js",t.loadingStatus++,t.start=!0,this.loadFileIntoApp(e,o)}},loadFileIntoApp:function(r,i){e.call("GET",window.location.origin+"/"+r+"/"+i,{},function(e){var r=document.getElementsByTagName("head")[0],i=document.createElement("script");i.innerHTML=e,r.appendChild(i),t.loadingStatus--,t.loadingStatus===0&&n.initialize()})}};return i});var XS_VIEW=0,SM_VIEW=1,MD_VIEW=2,LG_VIEW=3,XL_VIEW=4;define("jview/viewChange",["jcontroller/render","jview/viewSize"],function(e,t){var n={xsMaxChange:function(n){n.matches&&(t.view_size=XS_VIEW,e.renderAll())},xsMinChange:function(n){n.matches&&(t.view_size=XS_VIEW,e.renderAll())},smMaxChange:function(n){n.matches&&(t.view_size=SM_VIEW,e.renderAll())},smMinChange:function(n){n.matches&&(t.view_size=SM_VIEW,e.renderAll())},mdMaxChange:function(n){n.matches&&(t.view_size=MD_VIEW,e.renderAll())},mdMinChange:function(n){n.matches&&(t.view_size=MD_VIEW,e.renderAll())},lgMaxChange:function(n){n.matches&&(t.view_size=LG_VIEW,e.renderAll())},lgMinChange:function(n){n.matches&&(t.view_size=LG_VIEW,e.renderAll())},xlMinChange:function(n){n.matches&&(t.view_size=XL_VIEW,e.renderAll())},initialize:function(){window.matchMedia("(max-width: 640px)").addListener(this.xsMaxChange),window.matchMedia("(max-width: 760px)").addListener(this.smMaxChange),window.matchMedia("(max-width: 960px)").addListener(this.mdMaxChange),window.matchMedia("(max-width: 1200px)").addListener(this.lgMaxChange),window.matchMedia("(min-width: 1px)").addListener(this.xsMinChange),window.matchMedia("(min-width: 641px)").addListener(this.smMinChange),window.matchMedia("(min-width: 761px)").addListener(this.mdMinChange),window.matchMedia("(min-width: 961px)").addListener(this.lgMinChange),window.matchMedia("(min-width: 1201px)").addListener(this.xlMinChange)}};return n}),define("jjs",["jview/jview","jmodel/jmodel","jcontroller/jcontroller","jloader/jloader","jrouter/jrouter","jsingleton","jview/tags/tags","jview/views/jviewObject","jview/viewChange","viewObjectParser"],function(e,t,n,r,i,s,o,u,a,f){var l={app:function(){return{view:function(t,n){if(t===undefined)throw"view needs options to instantiate";if(t.name===undefined)throw"view needs name to instantiate";if(t.type===undefined)throw"view needs type to instantiate";if(t.input===undefined)throw"view needs input to instantiate";if(t.type!=="jview"&&e[t.type]===undefined)throw"not a valid view type";if(t.input!=="javascript")throw"view input not valid";for(var r in e)o[r]=e[r];var n=u(n(o));n.setId(t.name),s.singleton.views[t.name]=n},controller:function(e,t){if(e===undefined)throw"controller needs options to instantiate";if(e.name===undefined)throw"controller needs option name";if(t===undefined)throw"controller needs functions to instantiate";n.addController(e.name,t)},model:function(e,n){if(e===undefined)throw"model needs options to instantiate";if(n===undefined)throw"model needs layout to instantiate";if(e.name===undefined)throw"model needs name to instantiate";if(n.layout===undefined)throw"model needs layout to instantiate";if(n.backend!==!1){if(n.backend.config===undefined)throw"model needs backend configuration";if(n.backend.config.base_route===undefined)throw"model needs backend configuration";if(n.backend.config.routes===undefined)throw"model needs backend route configuration";if(n.backend.config.handlers===undefined)throw"model needs backend configuration for handlers"}t.addModel(e,n)},routes:function(e){for(var t in e){if(e[t].view&&e[t].view!=="otherwise"&&s.singleton.views[e[t].view]===undefined)throw"view doesn't exist";i.setRoute(e[t])}},config:function(e){if(e===undefined)throw"need configure object to configure app";if(e.root===undefined)throw"configure object needs root field";if(e.files===undefined)throw"configure object needs files field";r.processConfigSettings(e),a.initialize()}}}};return l});