define(["jsingleton","jmodel/ajax/ajax","jmodel/modelValidation","jmodel/indicies"],function(e,t,n,r){var i={updateModelAtIndex:function(t,n,r){for(var i in t){if(t[i].real_key<0)throw"index to delete is not valid";for(var s in n)e.singleton.models[r].data[t[i].fake_key][s]=n[s];e.singleton.models[r].backend.config.handlers[UPDATE](t[i].real_key,n,r,function(e){})}},updateModel:function(t,i,s){n.modelName(i),n.searchData(t.where,i),n.updateData(t.update,e.singleton.models[i]);var o=r.forData(t.where,i,s);this.updateModelAtIndex(o,t.update,i)}};return i});