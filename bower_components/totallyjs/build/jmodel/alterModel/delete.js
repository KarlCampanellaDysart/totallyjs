define(["jsingleton","jmodel/ajax/ajax","jmodel/modelValidation","jmodel/indicies"],function(e,t,n,r){var i={deleteFromModelAtIndex:function(t,n){for(var r in t){if(r<0)throw"index to delete is not valid";e.singleton.models[n].data[t[r].fake_key]=null,e.singleton.models[n].backend.config.handlers[DELETE](t[r].real_key,n,function(e){})}var i=[];for(var s in e.singleton.models[n].data)e.singleton.models[n].data[s]!==null&&i.push(e.singleton.models[n].data[s]);e.singleton.models[n].data=i},deleteFromModel:function(e,t,i){n.modelName(t);if(e.where===undefined)throw"model needs where option to perform query";var s=e.where;n.searchData(s,t);var o=r.forData(s,t,i);this.deleteFromModelAtIndex(o,t)}};return i});