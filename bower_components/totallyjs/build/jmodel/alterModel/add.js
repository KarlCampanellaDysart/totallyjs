define(["jsingleton","jmodel/ajax/ajax","jmodel/modelValidation","jmodel/indicies"],function(e,t,n,r){var i={addToModel:function(t,r){n.modelName(r),n.data(t,e.singleton.models[r]),e.singleton.models[r].backend.config.handlers[ADD](t,r,function(n){if(n[e.singleton.models[r].primary_key]===undefined)throw"unknown primary key from backend";t[e.singleton.models[r].primary_key]=n[e.singleton.models[r].primary_key],e.singleton.models[r].data.push(t)})}};return i});