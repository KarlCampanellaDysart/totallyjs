define(["jsingleton"],function(e){var t=!0,n="string",r=1.111,i=1,s={INTEGER:function(e){return Number(e)===e&&e%1===0},FLOAT:function(e){return e===Number(e)&&e%1!==0},STRING:function(e){return typeof e==typeof n},BOOLEAN:function(e){return typeof e==typeof t}},o={modelName:function(t){if(e.singleton.models[t]===undefined)throw"model name "+t+" is not valid"},searchData:function(t,n){for(var r in t){if(e.singleton.models[n].layout[r]===undefined)throw"data not present in model "+n;if(s[e.singleton.models[n].layout[r]](t[r])===undefined)throw"invalid value for "+r}},updateData:function(e,t){for(var n in e){var r=t.layout[n];if(n===t.primary_key)throw"cannot alter primary_key";if(r===undefined)throw"invalid model data";if(s[r](e[n])===undefined)throw"invalid data for "+n;if(t.validation!==undefined&&t.validation[n]!==undefined&&t.validation[n](e[n])===undefined)throw"invalid data for "+n}},data:function(e,t){for(var n in e){var r=t.layout[n];if(n!==t.primary_key){if(r===undefined)throw"invalid model data";if(s[r](e[n])===undefined)throw"invalid data for "+n;if(t.validation!==undefined&&t.validation[n]!==undefined&&t.validation[n](e[n])===undefined)throw"invalid data for "+n}}}};return o});