define(["jmodel/ajax/ajax","jloader/jsync","jrouter/jrouter"],function(e,t,n){var r=/\.[^\.a-z]{0,3}/i,i={processConfigSettings:function(e){e.files&&this.loadFilesInFolder(e.root,e.files)},loadFilesInFolder:function(e,n){for(var i in n)if(n[i]instanceof Object){var s;n[i].root.charAt(0)==="/"&&(s=n[i].root.substring(1,n[i].root.length)),n[i].root.charAt(n[i].root.length-1)==="/"?s=n[i].root.substring(0,n[i].root.length-1):s=n[i].root,this.loadFilesInFolder(e+"/"+s,n[i].files)}else{var o,u=n[i].search(r);u>-1?o=n[i]:o=n[i]+".js",t.loadingStatus++,t.start=!0,this.loadFileIntoApp(e,o)}},loadFileIntoApp:function(r,i){e.call("GET",window.location.origin+"/"+r+"/"+i,{},function(e){var r=document.getElementsByTagName("head")[0],i=document.createElement("script");i.innerHTML=e,r.appendChild(i),t.loadingStatus--,t.loadingStatus===0&&n.initialize()})}};return i});