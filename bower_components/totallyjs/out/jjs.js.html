<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: jjs.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: jjs.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';

define([
	
  /**  	
	* @requires jview/jview
	* @requires jmodel/jmodel
	* @requires jcontroller/jcontroller
	* @requires jloader/jloader
	* @requires jhelper/jhelper
	* @requires jrouter/jrouter
	* @requires jsingleton
	* @requires jview/tags/tags
	* @requires jview/views/jviewObject
	* @requires jview/viewChange
	* @requires viewObjectParser
    */
	'jview/jview',
	'jmodel/jmodel', 
	'jcontroller/jcontroller', 
	'jloader/jloader', 
	'jhelper/jhelper', 
	'jrouter/jrouter',
	'jsingleton',
	'jview/tags/tags',
	'jview/views/jviewObject',
	'jview/viewChange',
	'viewObjectParser'

], function(jv, jm, jc, jl, jh, jr, js, tags, jview, viewChange, vop){

  /**
	* Just Javascript Module - main module for making apps, uses other modules for functions
	
	* @exports jjs
	*/
	var jjs = {

	  /**
		* Function to get access to create models views, controllers, routes, and helpers
		
		* @function app
		* @alias jjs.app
		
		* @returns {Object} functions to create application components
		*/
		app: function(){
			return{

			  /**
				* Function to create views
				
				* @function view
				* @alias jjs.app#view
				*/
				view: function(_options, _view){

					//error checking
					if(_options 		 		 === undefined){throw 'view needs options to instantiate';}
					if(_options.name  		 === undefined){throw 'view needs name to instantiate';}
					if(_options.type  		 === undefined){throw 'view needs type to instantiate';}
					if(_options.input 		 === undefined){throw 'view needs input to instantiate';}
					if(_options.type 		 !== 'jview' &amp;&amp; 
					   jv[_options.type] 	 === undefined){throw 'not a valid view type';}
					
					//check the input
					if(_options.input === 'javascript'){

						for(var tag in jv){ tags[tag] = jv[tag]; }

						//create view and add it to our singleton
						var _view = jview(_view(tags));
						_view.setId(_options.name);
						js.singleton.views[_options.name] = _view;
					}

					//unknown type
					else{ throw 'view input not valid'; }
				},

			  /**
				* Function to create a controller
				
				* @function controller
				* @alias jjs.app#controller
				*/
				controller: function(_options, _controllerObject){

					//error checking on input
					if(_options 			=== undefined){ throw 'controller needs options to instantiate'; }
					if(_options.name 	=== undefined){ throw 'controller needs option name'; }
					if(_controllerObject === undefined){ throw 'controller needs functions to instantiate'; }

					//add the controller if input if valid
					jc.addController(_options.name, _controllerObject);
				},

			  /**
				* Function to create helpers
				
				* @function helper
				* @alias jjs.app#helper
				*/
				helper: function(_options, _helpFunction){

					js.singleton.helpers[_options.name] = _helpFunction;
				},

			  /**
				* Function to create models
				
				* @function model
				* @alias jjs.app#model
				*/
				model: function(_options, _modelObject){

					//initial error checking
					if(_options 			   === undefined){ throw 'model needs options to instantiate'; };
					if(_modelObject 		   === undefined){ throw 'model needs layout to instantiate'; };

					//deeper error checking
					if(_options.name 	   === undefined){ throw 'model needs name to instantiate'; };
					if(_modelObject.layout  === undefined){ throw 'model needs layout to instantiate'; }

					//check for the backend config
					if(_modelObject.backend !== false){ 

						//check all fields that are expected
						if(_modelObject.backend.config 			 === undefined){ throw 'model needs backend configuration'; }
						if(_modelObject.backend.config.base_route === undefined){ throw 'model needs backend configuration'; }
						if(_modelObject.backend.config.routes 	 === undefined){ throw 'model needs backend route configuration'; }
						if(_modelObject.backend.config.handlers 	 === undefined){ throw 'model needs backend configuration for handlers'; }
					}
					
					//instantiate the model
					jm.addModel(_options, _modelObject);
				},

			  /**
				* Function to create routes
				
				* @function routes
				* @alias jjs.app#routes
				*/
				routes: function(_routes){

					//go through each route
					for(var route in _routes){

						//if we are trying to display a view, check if it exists
						if(_routes[route].view &amp;&amp; _routes[route].view !== 'otherwise' &amp;&amp; js.singleton.views[_routes[route].view] === undefined){throw "view doesn't exist";}
						jr.setRoute(_routes[route]);
					}
				},

			  /**
				* Function to configure the application
				
				* @function config
				* @alias jjs.app#config
				*/
				config: function(_configObj){

					//at least need the root and files
					if(_configObj 		=== undefined){ throw 'need configure object to configure app'; }
					if(_configObj.root 	=== undefined){ throw 'configure object needs root field'; }
					if(_configObj.files === undefined){ throw 'configure object needs files field'; }

					//load our scripts
					jl.processConfigSettings(_configObj);

					/*
						
					We can do the following function before all the user's scripts are loaded

					*/

					//initializing window size lisener
					viewChange.initialize();
				}
			}
		}
	};

	//export jjs object
	return jjs;
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-jcontroller_jcontroller.html">jcontroller/jcontroller</a></li><li><a href="module-jcontroller_render.html">jcontroller/render</a></li><li><a href="module-jcontroller_subcontrollers_helperController.html">jcontroller/subcontrollers/helperController</a></li><li><a href="module-jcontroller_subcontrollers_listener_listenerObject.html">jcontroller/subcontrollers/listener/listenerObject</a></li><li><a href="module-jcontroller_subcontrollers_listener_listenerQueues.html">jcontroller/subcontrollers/listener/listenerQueues</a></li><li><a href="module-jcontroller_subcontrollers_listenerController.html">jcontroller/subcontrollers/listenerController</a></li><li><a href="module-jcontroller_subcontrollers_modelController.html">jcontroller/subcontrollers/modelController</a></li><li><a href="module-jcontroller_subcontrollers_viewController.html">jcontroller/subcontrollers/viewController</a></li><li><a href="module-jhelper_jhelper.html">jhelper/jhelper</a></li><li><a href="module-jjs.html">jjs</a></li><li><a href="module-jloader_jloader.html">jloader/jloader</a></li><li><a href="module-jloader_jsync.html">jloader/jsync</a></li><li><a href="module-jmodel_ajax_ajax.html">jmodel/ajax/ajax</a></li><li><a href="module-jmodel_alterModel_add.html">jmodel/alterModel/add</a></li><li><a href="module-jmodel_alterModel_delete.html">jmodel/alterModel/delete</a></li><li><a href="module-jmodel_alterModel_get.html">jmodel/alterModel/get</a></li><li><a href="module-jmodel_alterModel_update.html">jmodel/alterModel/update</a></li><li><a href="module-jmodel_indicies.html">jmodel/indicies</a></li><li><a href="module-jmodel_jmodel.html">jmodel/jmodel</a></li><li><a href="module-jmodel_modelValidation.html">jmodel/modelValidation</a></li><li><a href="module-jrouter_jrouter.html">jrouter/jrouter</a></li><li><a href="module-jrouter_location_locationHandler.html">jrouter/location/locationHandler</a></li><li><a href="module-jrouter_location_locationObject.html">jrouter/location/locationObject</a></li><li><a href="module-jsingleton.html">jsingleton</a></li><li><a href="module-jview_jview.html">jview/jview</a></li><li><a href="module-jview_jviewObject.html">jview/jviewObject</a></li><li><a href="module-jview_tags_tagContentParser.html">jview/tags/tagContentParser</a></li><li><a href="module-jview_tags_tagObject.html">jview/tags/tagObject</a></li><li><a href="module-jview_tags_tagObjectRender.html">jview/tags/tagObjectRender</a></li><li><a href="module-jview_tags_tags.html">jview/tags/tags</a></li><li><a href="module-jview_viewChange.html">jview/viewChange</a></li><li><a href="module-viewObjectParser.html">viewObjectParser</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.2</a> on Mon Aug 17 2015 00:42:16 GMT-0400 (EDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
